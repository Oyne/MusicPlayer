@page "/playlist/{Id:guid}"

<div class="page-wrapper">
    <div class="playlist-info-area">
        <div class="playlist-cover">
            <img src=@Playlist.Image>
        </div>
        <div class="playlist-info">
            <div class="playlist-type">
                <span>Playlist</span>
            </div>
            <div class="playlist-name">
                <h1>@Playlist.Title</h1>
            </div>
            <div class="playlist-authors">
                @Playlist.Author
            </div>
            <div class="playlist-duration">
                <div class="spotify-logo">
                    <i class="ph-fill ph-spotify-logo"></i>
                    <a href="#">Spotify</a>
                </div>
                <span class="dot-separator">•</span>
                <span class="songs-count">
                    x songs,
                    <span class="songs-duration">about x hr</span>
                </span>
            </div>
        </div>
    </div>
    <div class="controls">
        <div class="controls-left">
            <button class="play-button">
                <i class="ph-fill ph-play-circle"></i>
            </button>
            <button class="like-button">
                <i class="ph ph-heart-straight"></i>
            </button>
            <button class="options-button">
                <i class="ph-fill ph-dots-three-outline"></i>
            </button>
        </div>
        <div class="controls-right">
            <button class="display-mode-button">
                <span>List</span>
                <i class="ph-fill ph-list-dashes"></i>
            </button>
        </div>
    </div>
    <div class="track-list-header">
        <div class="track-info">
            <div class="track-number">#</div>
            <div class="track-title">Title</div>
            <div class="track-album">Album</div>
            <div class="track-duration">
                <i class="ph ph-clock"></i>
            </div>
        </div>
    </div>
    <div class="track-list">
        @foreach (var track in Playlist.TrackList)
        {
            <TrackRow Index="songNumber" Track="track"></TrackRow>
            songNumber++;
        }
    </div>
</div>

@code {
    [Parameter]
    public Guid Id { get; set; }

    public PlaylistModel Playlist { get; set; }

    protected override void OnInitialized()
    {
        Playlist = DataBaseMoq.Playlists.First(p => p.Id == Id);
    }

    int songNumber = 1;

}
